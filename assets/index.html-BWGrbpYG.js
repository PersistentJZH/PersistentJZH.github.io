import{_ as t,c as e,e as i,b as l,r as n,o as h}from"./app-Bx6_S8_t.js";const r={};function o(d,s){const a=n("Mermaid");return h(),e("div",null,[s[0]||(s[0]=i(`<p>kind create cluster --name calico-cluster --config - &lt;&lt;EOF kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes:</p><ul><li>role: control-plane</li><li>role: worker</li><li>role: worker networking: disableDefaultCNI: true podSubnet: 192.167.0.0/16 EOF</li></ul><p>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/tigera-operator.yaml</p><p>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/custom-resources.yaml</p><h2 id="cat-eof-calicoctl-apply-f" tabindex="-1"><a class="header-anchor" href="#cat-eof-calicoctl-apply-f"><span>cat &lt;&lt;EOF | calicoctl apply -f -</span></a></h2><p>apiVersion: projectcalico.org/v3 kind: IPPool metadata: name: external-pool spec: cidr: 192.168.64.0/24 blockSize: 29 ipipMode: Never natOutgoing: true nodeSelector: &quot;!all()&quot; EOF</p><p>multipass set local.bridged-network.range=10.168.64.0/24</p><h2 id="cat-eof-calicoctl-apply-f-1" tabindex="-1"><a class="header-anchor" href="#cat-eof-calicoctl-apply-f-1"><span>cat &lt;&lt;EOF | calicoctl apply -f -</span></a></h2><p>apiVersion: projectcalico.org/v3 kind: BGPPeer metadata: name: bgppeer-global-host1 spec: peerIP: 192.168.64.5 asNumber: 64512 EOF</p><p>sudo bash -c &quot;cat &gt; /etc/bird/bird.conf &lt;&lt;EOF router id 192.168.64.6;</p><p>protocol kernel { scan time 60; import none; export all; }</p><p>protocol device { scan time 60; }</p><p>protocol bgp k8s_calico { local as 64512; neighbor 172.18.0.3 as 64511; # å°†æŒ‡å‘KindèŠ‚ç‚¹çš„IP import all; export none; multihop; } EOF&quot;</p><p>kubectl apply -f - &lt;&lt;EOF apiVersion: projectcalico.org/v3 kind: BGPPeer metadata: name: multipass-peer spec: peerIP: 192.168.64.6 asNumber: 64512 nodeSelector: all() EOF</p><h3 id="_1-èŠ‚ç‚¹åŠ å…¥é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_1-èŠ‚ç‚¹åŠ å…¥é›†ç¾¤"><span><strong>1. èŠ‚ç‚¹åŠ å…¥é›†ç¾¤</strong></span></a></h3><p>å½“æ–°èŠ‚ç‚¹åŠ å…¥ Kubernetes é›†ç¾¤æ—¶ï¼ŒCalico ä¼šè§¦å‘è·¯ç”±å®£å‘Šï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><strong>èŠ‚ç‚¹æ³¨å†Œ</strong>ï¼š <ul><li>æ–°èŠ‚ç‚¹é€šè¿‡ <code>kubelet</code> æ³¨å†Œåˆ° Kubernetes API Serverã€‚</li><li>Calico çš„ <code>CNI æ’ä»¶</code> ä¸ºè¯¥èŠ‚ç‚¹åˆ†é… Pod CIDRï¼ˆå¦‚ <code>10.244.3.0/24</code>ï¼‰ã€‚</li></ul></li><li><strong>Felix æ£€æµ‹å˜åŒ–</strong>ï¼š <ul><li>Felix ç›‘å¬ Kubernetes APIï¼Œå‘ç°æ–°èŠ‚ç‚¹åŠåˆ†é…çš„ Pod CIDRã€‚</li><li>Felix åœ¨æœ¬åœ°é…ç½®è·¯ç”±è¡¨ï¼Œç¡®ä¿æœ¬æœº Pod å¯è®¿é—®æ–°èŠ‚ç‚¹çš„ Pod CIDRã€‚</li></ul></li><li><strong>BIRD è§¦å‘ BGP å®£å‘Š</strong>ï¼š <ul><li>BIRD æ£€æµ‹åˆ°æ–°è·¯ç”±ï¼ˆå¦‚ <code>10.244.3.0/24</code> å±äºæ–°èŠ‚ç‚¹ï¼‰ï¼Œé€šè¿‡ BGP åè®®å‘æ‰€æœ‰å¯¹ç­‰ä½“ï¼ˆå…¶ä»–èŠ‚ç‚¹ï¼‰å®£å‘Šè¯¥è·¯ç”±ã€‚</li><li>å…¶ä»–èŠ‚ç‚¹é€šè¿‡ BGP å­¦ä¹ åˆ°æ–°è·¯ç”±ï¼Œæ›´æ–°å†…æ ¸è·¯ç”±è¡¨ã€‚</li></ul></li></ol><p><strong>å…³é”®æ—¥å¿—</strong>ï¼ˆé€šè¿‡ <code>journalctl -u bird</code> æŸ¥çœ‹ï¼‰ï¼š</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>BGP: Sending UPDATE to neighbor 192.168.100.3: Added 10.244.3.0/24</span></span></code></pre></div><hr><h3 id="_2-èŠ‚ç‚¹ç¦»å¼€æˆ–æ•…éšœ" tabindex="-1"><a class="header-anchor" href="#_2-èŠ‚ç‚¹ç¦»å¼€æˆ–æ•…éšœ"><span><strong>2. èŠ‚ç‚¹ç¦»å¼€æˆ–æ•…éšœ</strong></span></a></h3><ol><li><strong>èŠ‚ç‚¹å¤±è”</strong>ï¼š <ul><li>BGP ä¼šè¯å› èŠ‚ç‚¹å®•æœºæˆ–ç½‘ç»œä¸­æ–­è€Œæ–­å¼€ï¼ˆé»˜è®¤ Keepalive è¶…æ—¶ä¸º 90 ç§’ï¼‰ã€‚</li></ul></li><li><strong>è·¯ç”±æ’¤å›</strong>ï¼š <ul><li>BIRD æ£€æµ‹åˆ°å¯¹ç­‰ä½“å¤±æ•ˆï¼Œè‡ªåŠ¨è§¦å‘ <code>WITHDRAW</code> æ¶ˆæ¯ï¼Œé€šçŸ¥å…¶ä»–èŠ‚ç‚¹æ’¤é”€è¯¥èŠ‚ç‚¹çš„è·¯ç”±ï¼ˆå¦‚ <code>10.244.3.0/24</code>ï¼‰ã€‚</li></ul></li><li><strong>é›†ç¾¤æ”¶æ•›</strong>ï¼š <ul><li>å…¶ä»–èŠ‚ç‚¹åˆ é™¤å¤±æ•ˆè·¯ç”±ï¼Œæµé‡ä¸å†è½¬å‘è‡³æ•…éšœèŠ‚ç‚¹ã€‚</li></ul></li></ol><p><strong>å½±å“</strong>ï¼š</p><ul><li>è‹¥æ•…éšœèŠ‚ç‚¹æ¢å¤ï¼ŒBGP ä¼šè¯é‡æ–°å»ºç«‹ï¼Œè·¯ç”±ä¼šé‡æ–°å®£å‘Šã€‚</li></ul><hr><h3 id="_3-pod-åˆ›å»ºæˆ–åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_3-pod-åˆ›å»ºæˆ–åˆ é™¤"><span><strong>3. Pod åˆ›å»ºæˆ–åˆ é™¤</strong></span></a></h3><ol><li><strong>Pod åˆ›å»º</strong>ï¼š <ul><li>Calico çš„ <code>IPAM</code> ä» Pod CIDR ä¸­åˆ†é… IPï¼ˆå¦‚ <code>10.244.1.5</code>ï¼‰ã€‚</li><li>Felix åœ¨ä¸»æœºæ·»åŠ è¯¥ Pod çš„ç›´è¿è·¯ç”±ï¼ˆæ— éœ€ BGP å®£å‘Šï¼Œå› ä¸ºå±äºæœ¬åœ° CIDRï¼‰ã€‚</li></ul></li><li><strong>Pod è·¨èŠ‚ç‚¹é€šä¿¡</strong>ï¼š <ul><li>åªæœ‰ <strong>Pod CIDR çš„å­ç½‘</strong>ï¼ˆå¦‚ <code>10.244.1.0/24</code>ï¼‰ä¼šé€šè¿‡ BGP å®£å‘Šï¼Œå•ä¸ª Pod IP ä¸ä¼šå•ç‹¬å¹¿æ’­ã€‚</li><li>å…¶ä»–èŠ‚ç‚¹é€šè¿‡å·²å­¦ä¹ çš„ Pod CIDR è·¯ç”±ï¼Œç»“åˆä¸»æœºçš„ ARP è§£æï¼Œå®šä½å…·ä½“ Podã€‚</li></ul></li></ol><p><strong>ä¾‹å¤–</strong>ï¼š</p><ul><li>è‹¥å¯ç”¨ <code>host-local</code> IPAM ä¸” Pod CIDR è€—å°½ï¼Œå¯èƒ½è§¦å‘æ–°èŠ‚ç‚¹åŠ å…¥ä»¥æ‰©å±•åœ°å€æ± ã€‚</li></ul><hr><h3 id="_4-ç½‘ç»œç­–ç•¥å˜æ›´" tabindex="-1"><a class="header-anchor" href="#_4-ç½‘ç»œç­–ç•¥å˜æ›´"><span><strong>4. ç½‘ç»œç­–ç•¥å˜æ›´</strong></span></a></h3><ol><li><strong>ç­–ç•¥æ›´æ–°</strong>ï¼š <ul><li>ä¿®æ”¹ <code>NetworkPolicy</code> å¯èƒ½å¯¼è‡´ Felix é‡æ–°ç”Ÿæˆ iptables/eBPF è§„åˆ™ã€‚</li></ul></li><li><strong>è·¯ç”±ç­–ç•¥è°ƒæ•´</strong>ï¼š <ul><li>è‹¥ç­–ç•¥å½±å“è·¯ç”±ï¼ˆå¦‚ç¦æ­¢æŸäº›å­ç½‘é€šä¿¡ï¼‰ï¼ŒBIRD å¯èƒ½è§¦å‘è·¯ç”±è¿‡æ»¤æˆ–é‡æ–°å®£å‘Šã€‚</li><li>ä¾‹å¦‚ï¼šé€šè¿‡ <code>export filter</code> é™åˆ¶é€šå‘Šçš„è·¯ç”±èŒƒå›´ã€‚</li></ul></li></ol><hr><h3 id="_5-æ‰‹åŠ¨å¹²é¢„" tabindex="-1"><a class="header-anchor" href="#_5-æ‰‹åŠ¨å¹²é¢„"><span><strong>5. æ‰‹åŠ¨å¹²é¢„</strong></span></a></h3><ol><li><strong>å¼ºåˆ¶è·¯ç”±åˆ·æ–°</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">birdc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # é‡æ–°åŠ è½½ BIRD é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">birdc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> disable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bgp_peer</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # ä¸´æ—¶ç¦ç”¨å¯¹ç­‰ä½“ï¼Œå†å¯ç”¨ä»¥è§¦å‘è·¯ç”±æ›´æ–°</span></span></code></pre></div></li><li><strong>Calico é…ç½®å˜æ›´</strong>ï¼š <ul><li>ä¿®æ”¹ <code>BGPConfiguration</code>ï¼ˆå¦‚è°ƒæ•´ AS å·ã€å¯ç”¨ RR æ¨¡å¼ï¼‰ä¼šè§¦å‘å…¨é›†ç¾¤è·¯ç”±é‡æ–°åŒæ­¥ã€‚</li></ul></li></ol><hr><h3 id="_6-å…¶ä»–åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_6-å…¶ä»–åœºæ™¯"><span><strong>6. å…¶ä»–åœºæ™¯</strong></span></a></h3><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>è§¦å‘æ¡ä»¶</strong></th><th><strong>è·¯ç”±å®£å‘Šè¡Œä¸º</strong></th></tr></thead><tbody><tr><td><strong>é›†ç¾¤æ‰©å®¹</strong></td><td>æ–°å¢å¤šä¸ªèŠ‚ç‚¹</td><td>æ¯ä¸ªæ–°èŠ‚ç‚¹çš„ Pod CIDR è¢«ç‹¬ç«‹å®£å‘Š</td></tr><tr><td><strong>èŠ‚ç‚¹ IP å˜æ›´</strong></td><td>ä¸»æœº IP æ›´æ–°ï¼ˆå¦‚ DHCP ç»­çº¦ï¼‰</td><td>BGP ä¼šè¯é‡å»ºï¼Œè·¯ç”±é‡æ–°å®£å‘Š</td></tr><tr><td><strong>BGP å¯¹ç­‰ä½“é…ç½®å˜æ›´</strong></td><td>æ–°å¢/åˆ é™¤ BGP é‚»å±…ï¼ˆå¦‚ Spine-Leaf æ¶æ„ï¼‰</td><td>åŠ¨æ€è°ƒæ•´è·¯ç”±ä¼ æ’­èŒƒå›´</td></tr><tr><td><strong>IP æ± ä¿®æ”¹</strong></td><td>è°ƒæ•´ <code>IPPool</code> çš„ CIDR</td><td>æ‰€æœ‰å—å½±å“èŠ‚ç‚¹é‡æ–°å®£å‘Šè·¯ç”±</td></tr></tbody></table><hr><h3 id="åº•å±‚åŸç†-bgp-åè®®è§†è§’" tabindex="-1"><a class="header-anchor" href="#åº•å±‚åŸç†-bgp-åè®®è§†è§’"><span><strong>åº•å±‚åŸç†ï¼ˆBGP åè®®è§†è§’ï¼‰</strong></span></a></h3><ol><li><strong>è·¯ç”±æ›´æ–°æ¡ä»¶</strong>ï¼š <ul><li>å½“ BGP Speakerï¼ˆå¦‚ BIRDï¼‰æ£€æµ‹åˆ°æœ¬åœ°è·¯ç”±è¡¨å˜åŒ–æ—¶ï¼ˆæ–°å¢/åˆ é™¤è·¯ç”±ï¼‰ï¼Œä¼šå‘å¯¹ç­‰ä½“å‘é€ <code>UPDATE</code> æ¶ˆæ¯ã€‚</li></ul></li><li><strong>æ”¶æ•›æœºåˆ¶</strong>ï¼š <ul><li>é»˜è®¤é‡‡ç”¨ <code>Full-Mesh</code> æ¨¡å¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç›´æ¥äº¤æ¢è·¯ç”±ã€‚</li><li>åœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸­ï¼Œå¯é€šè¿‡ <code>Route Reflector (RR)</code> ä¼˜åŒ–ï¼Œå‡å°‘ BGP è¿æ¥æ•°ã€‚</li></ul></li></ol><hr><h3 id="éªŒè¯è·¯ç”±å®£å‘Š" tabindex="-1"><a class="header-anchor" href="#éªŒè¯è·¯ç”±å®£å‘Š"><span><strong>éªŒè¯è·¯ç”±å®£å‘Š</strong></span></a></h3><ol><li><strong>æŸ¥çœ‹ BGP é‚»å±…çŠ¶æ€</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">calicoctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æˆ–</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">birdc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> protocols</span></span></code></pre></div></li><li><strong>æ£€æŸ¥è·¯ç”±è¡¨</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # æŸ¥çœ‹å†…æ ¸è·¯ç”±è¡¨</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">birdc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # æŸ¥çœ‹ BIRD å­¦ä¹ åˆ°çš„è·¯ç”±</span></span></code></pre></div></li><li><strong>æŠ“åŒ…åˆ†æ</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tcpdump</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> eth0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp port 179</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # æ•è· BGP åè®®æµé‡</span></span></code></pre></div></li></ol><hr><h3 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span><strong>æ€»ç»“</strong></span></a></h3><p>Calico çš„è·¯ç”±å®£å‘Šä¸»è¦ç”±ä»¥ä¸‹äº‹ä»¶è§¦å‘ï¼š</p><ol><li><strong>èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸå˜åŒ–</strong>ï¼ˆåŠ å…¥/ç¦»å¼€ï¼‰ã€‚</li><li><strong>Pod CIDR åˆ†é…æˆ–å›æ”¶</strong>ã€‚</li><li><strong>BGP ä¼šè¯çŠ¶æ€å˜æ›´</strong>ï¼ˆå¦‚å¯¹ç­‰ä½“æ–­å¼€ï¼‰ã€‚</li><li><strong>ç­–ç•¥æˆ–é…ç½®æ›´æ–°</strong>ã€‚</li></ol><p>è¿™ç§è®¾è®¡ç¡®ä¿äº†é›†ç¾¤ç½‘ç»œçš„ <strong>é«˜å¯ç”¨æ€§</strong> å’Œ <strong>å¿«é€Ÿæ”¶æ•›</strong>ï¼ŒåŒæ—¶é¿å…äº†ä¼ ç»Ÿ SDN æ§åˆ¶å™¨çš„å•ç‚¹ç“¶é¢ˆã€‚</p><p>åœ¨ Calico ä¸­ï¼Œ<strong>è·¯ç”±å®£å‘Šçš„èŒè´£</strong>ä¸»è¦ç”±ä»¥ä¸‹ç»„ä»¶åä½œå®Œæˆï¼Œä¸åŒåœºæ™¯ä¸‹ç”±ä¸åŒç»„ä»¶ä¸»å¯¼ï¼š</p><hr><h3 id="_1-é»˜è®¤åœºæ™¯-pod-ç½‘ç»œè·¯ç”±å®£å‘Š" tabindex="-1"><a class="header-anchor" href="#_1-é»˜è®¤åœºæ™¯-pod-ç½‘ç»œè·¯ç”±å®£å‘Š"><span><strong>1. é»˜è®¤åœºæ™¯ï¼šPod ç½‘ç»œè·¯ç”±å®£å‘Š</strong></span></a></h3><h4 id="å®£å‘Šè€…-bird-bgp-client" tabindex="-1"><a class="header-anchor" href="#å®£å‘Šè€…-bird-bgp-client"><span><strong>å®£å‘Šè€…ï¼šBIRDï¼ˆBGP Clientï¼‰</strong></span></a></h4><ul><li><strong>è§’è‰²</strong>ï¼šCalico åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ¨ç½²çš„è½»é‡çº§ BGP å®¢æˆ·ç«¯ï¼ˆé»˜è®¤ä½¿ç”¨ BIRD æˆ– GoBGPï¼‰ã€‚</li><li><strong>å·¥ä½œæµç¨‹</strong>ï¼š <ol><li><strong>Felix</strong> ç›‘æ§æœ¬æœº Pod å˜åŒ–ï¼Œæ›´æ–°æœ¬åœ°è·¯ç”±è¡¨ï¼ˆå¦‚ <code>10.244.1.0/24 via veth-host</code>ï¼‰ã€‚</li><li><strong>BIRD</strong> æ£€æµ‹åˆ°è·¯ç”±å˜åŒ–åï¼Œé€šè¿‡ BGP åè®®å‘å¯¹ç­‰ä½“ï¼ˆå…¶ä»–èŠ‚ç‚¹æˆ–å¤–éƒ¨è·¯ç”±å™¨ï¼‰å®£å‘Šè¿™äº›è·¯ç”±ã€‚</li><li>å¯¹ç­‰ä½“å­¦ä¹ è·¯ç”±åï¼Œæ›´æ–°è‡ªå·±çš„è·¯ç”±è¡¨ã€‚</li></ol></li><li><strong>å…³é”®é…ç½®</strong>ï¼š<div class="language-yaml" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æŸ¥çœ‹ Calico çš„ BGP é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">calicoctl get bgpconfiguration</span></span></code></pre></div></li><li><strong>æ—¥å¿—éªŒè¯</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">journalctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bird</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">UPDATE</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # æŸ¥çœ‹ BIRD å®£å‘Šçš„è·¯ç”±</span></span></code></pre></div></li></ul><hr><h3 id="_2-ç‰¹æ®Šåœºæ™¯-service-cidr-å®£å‘Š-å®éªŒæ€§" tabindex="-1"><a class="header-anchor" href="#_2-ç‰¹æ®Šåœºæ™¯-service-cidr-å®£å‘Š-å®éªŒæ€§"><span><strong>2. ç‰¹æ®Šåœºæ™¯ï¼šService CIDR å®£å‘Šï¼ˆå®éªŒæ€§ï¼‰</strong></span></a></h3><h4 id="å®£å‘Šè€…-calico-node-ä¸Šçš„-bird" tabindex="-1"><a class="header-anchor" href="#å®£å‘Šè€…-calico-node-ä¸Šçš„-bird"><span><strong>å®£å‘Šè€…ï¼šCalico Node ä¸Šçš„ BIRD</strong></span></a></h4><ul><li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šéœ€æ˜¾å¼é…ç½® <code>BGPConfiguration</code> ä¸­çš„ <code>serviceClusterIPs</code>ã€‚</li><li><strong>é…ç½®ç¤ºä¾‹</strong>ï¼š<div class="language-yaml" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apiVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectcalico.org/v3</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">kind</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BGPConfiguration</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">metadata</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">spec</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  serviceClusterIPs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> cidr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 10.96.0.0/16</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Kubernetes Service CIDR</span></span></code></pre></div></li><li><strong>è¡Œä¸º</strong>ï¼š <ul><li>Calico ä¼šé€šè¿‡ BIRD å°† <code>10.96.0.0/16</code> ä½œä¸ºèšåˆè·¯ç”±å®£å‘Šå‡ºå»ã€‚</li><li><strong>æ³¨æ„</strong>ï¼šService IP çš„è´Ÿè½½å‡è¡¡ä»ç”± <code>kube-proxy</code> æˆ– <code>eBPF</code> å¤„ç†ï¼ŒBGP ä»…è´Ÿè´£è·¯ç”±å¯è¾¾æ€§ã€‚</li></ul></li></ul><hr><h3 id="_3-é«˜çº§åœºæ™¯-è·¯ç”±åå°„å™¨-route-reflector" tabindex="-1"><a class="header-anchor" href="#_3-é«˜çº§åœºæ™¯-è·¯ç”±åå°„å™¨-route-reflector"><span><strong>3. é«˜çº§åœºæ™¯ï¼šè·¯ç”±åå°„å™¨ï¼ˆRoute Reflectorï¼‰</strong></span></a></h3><h4 id="å®£å‘Šè€…-calico-route-reflector-rr" tabindex="-1"><a class="header-anchor" href="#å®£å‘Šè€…-calico-route-reflector-rr"><span><strong>å®£å‘Šè€…ï¼šCalico Route Reflectorï¼ˆRRï¼‰</strong></span></a></h4><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤§è§„æ¨¡é›†ç¾¤ä¸­ï¼Œä¸ºé¿å… Full-Mesh BGP è¿æ¥è¿‡å¤šã€‚</li><li><strong>è§’è‰²</strong>ï¼š <ul><li>ä¸“ç”¨èŠ‚ç‚¹ä½œä¸º RRï¼Œé›†ä¸­ç®¡ç†è·¯ç”±å®£å‘Šã€‚</li><li>å…¶ä»–èŠ‚ç‚¹ï¼ˆRR Clientï¼‰ä»…ä¸ RR äº¤æ¢è·¯ç”±ï¼Œä¸ç›´æ¥äº’è¿ã€‚</li></ul></li><li><strong>é…ç½®æ–¹æ³•</strong>ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å°†æŸèŠ‚ç‚¹æ ‡è®°ä¸º Route Reflector</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">calicoctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> patch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{&quot;spec&quot;: {&quot;bgp&quot;: {&quot;routeReflectorClusterID&quot;: &quot;224.0.0.1&quot;}}}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre></div></li></ul><hr><h3 id="_4-å¤–éƒ¨ç½‘ç»œé›†æˆ" tabindex="-1"><a class="header-anchor" href="#_4-å¤–éƒ¨ç½‘ç»œé›†æˆ"><span><strong>4. å¤–éƒ¨ç½‘ç»œé›†æˆ</strong></span></a></h3><h4 id="å®£å‘Šè€…-è¾¹ç•ŒèŠ‚ç‚¹-border-node" tabindex="-1"><a class="header-anchor" href="#å®£å‘Šè€…-è¾¹ç•ŒèŠ‚ç‚¹-border-node"><span><strong>å®£å‘Šè€…ï¼šè¾¹ç•ŒèŠ‚ç‚¹ï¼ˆBorder Nodeï¼‰</strong></span></a></h4><ul><li><strong>åœºæ™¯</strong>ï¼šéœ€å°†é›†ç¾¤è·¯ç”±ï¼ˆPod æˆ– Serviceï¼‰å®£å‘Šåˆ°å¤–éƒ¨ç½‘ç»œï¼ˆå¦‚æ•°æ®ä¸­å¿ƒè·¯ç”±å™¨ï¼‰ã€‚</li><li><strong>é…ç½®</strong>ï¼š <ul><li>åœ¨è¾¹ç•ŒèŠ‚ç‚¹ä¸Šé…ç½® BGP å¯¹ç­‰ï¼š</li></ul><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apiVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectcalico.org/v3</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">kind</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BGPPeer</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">metadata</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> border-router</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">spec</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  peerIP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.100.254</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # å¤–éƒ¨è·¯ç”±å™¨ IP</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  asNumber</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 65000</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # å¤–éƒ¨ AS å·</span></span></code></pre></div></li></ul><hr><h3 id="ç»„ä»¶åä½œæµç¨‹å›¾" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶åä½œæµç¨‹å›¾"><span><strong>ç»„ä»¶åä½œæµç¨‹å›¾</strong></span></a></h3>`,68)),l(a,{code:"eJxLy8kvT85ILCpRCHHiUgACt9SczAoFXV27mmeztzybtuHF9vXPp2ysUXDyDHIBKwAxwPJO7gEKT9ctfjqxq0bBvyQjtcgvPyW1OPpp67Ynu6e96Gp63rQzFrcOp/yilNSioPzSktSi6Bf7dj6f2gOx6unMFRBtYLmg1LSc1OSS/CKwAS9ntz3ZsRbDSd6lSalFeaklqcVgVcGpRWWZyakKzp4uQTUKzok5mcn5QKud8/PSMtO5AN56Y+U="}),s[1]||(s[1]=i(`<hr><h3 id="å…³é”®æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…³é”®æ€»ç»“"><span><strong>å…³é”®æ€»ç»“</strong></span></a></h3><table><thead><tr><th><strong>è·¯ç”±ç±»å‹</strong></th><th><strong>å®£å‘Šè€…</strong></th><th><strong>ä¾èµ–ç»„ä»¶</strong></th><th><strong>é…ç½®æ–¹å¼</strong></th></tr></thead><tbody><tr><td><strong>Pod è·¯ç”±</strong></td><td>BIRDï¼ˆæ¯ä¸ªèŠ‚ç‚¹ï¼‰</td><td>Felix</td><td>è‡ªåŠ¨è§¦å‘ï¼Œæ— éœ€é¢å¤–é…ç½®</td></tr><tr><td><strong>Service è·¯ç”±</strong></td><td>BIRDï¼ˆå®éªŒæ€§ï¼‰</td><td>BGPConfiguration</td><td>éœ€æ˜¾å¼å£°æ˜ <code>serviceClusterIPs</code></td></tr><tr><td><strong>å¤–éƒ¨è·¯ç”±</strong></td><td>è¾¹ç•ŒèŠ‚ç‚¹çš„ BIRD</td><td>BGPPeer</td><td>é…ç½®å¯¹ç­‰ä½“ IP å’Œ AS å·</td></tr><tr><td><strong>èšåˆè·¯ç”±</strong></td><td>Route Reflector</td><td>é›†ç¾¤æ‹“æ‰‘</td><td>æ ‡è®°èŠ‚ç‚¹ä¸º RR</td></tr></tbody></table><hr><h3 id="å¸¸è§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é—®é¢˜"><span><strong>å¸¸è§é—®é¢˜</strong></span></a></h3><h4 id="q1-ä¸ºä»€ä¹ˆæˆ‘çš„-pod-è·¯ç”±æ²¡æœ‰å®£å‘Šå‡ºå»" tabindex="-1"><a class="header-anchor" href="#q1-ä¸ºä»€ä¹ˆæˆ‘çš„-pod-è·¯ç”±æ²¡æœ‰å®£å‘Šå‡ºå»"><span><strong>Q1ï¼šä¸ºä»€ä¹ˆæˆ‘çš„ Pod è·¯ç”±æ²¡æœ‰å®£å‘Šå‡ºå»ï¼Ÿ</strong></span></a></h4><ul><li>æ£€æŸ¥ BGP ä¼šè¯çŠ¶æ€ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">calicoctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span></code></pre></div></li><li>ç¡®è®¤ BGP å·²å¯ç”¨ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">calicoctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bgpconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yaml</span></span></code></pre></div></li></ul><h4 id="q2-service-è·¯ç”±å®£å‘Šå¤±è´¥å¦‚ä½•æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#q2-service-è·¯ç”±å®£å‘Šå¤±è´¥å¦‚ä½•æ’æŸ¥"><span><strong>Q2ï¼šService è·¯ç”±å®£å‘Šå¤±è´¥å¦‚ä½•æ’æŸ¥ï¼Ÿ</strong></span></a></h4><ul><li>éªŒè¯é…ç½®ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">calicoctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bgpconfiguration</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yaml</span></span></code></pre></div></li><li>æ£€æŸ¥ BIRD æ—¥å¿—ï¼š<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">journalctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bird</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">service</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div></li></ul><h4 id="q3-å¦‚ä½•é™åˆ¶è·¯ç”±å®£å‘ŠèŒƒå›´" tabindex="-1"><a class="header-anchor" href="#q3-å¦‚ä½•é™åˆ¶è·¯ç”±å®£å‘ŠèŒƒå›´"><span><strong>Q3ï¼šå¦‚ä½•é™åˆ¶è·¯ç”±å®£å‘ŠèŒƒå›´ï¼Ÿ</strong></span></a></h4><p>ä½¿ç”¨ <code>exportFilter</code> è¿‡æ»¤è·¯ç”±ï¼š</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apiVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> projectcalico.org/v3</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">kind</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BGPConfiguration</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">spec</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  nodeToNodeMeshEnabled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  serviceClusterIPs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> cidr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 10.96.0.0/16</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  exportFilter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> action</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Deny</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      matchExpression</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">!has(10.244.0.0/16)</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # åªå…è®¸ 10.244.0.0/16 çš„è·¯ç”±</span></span></code></pre></div>`,12))])}const k=t(r,[["render",o]]),g=JSON.parse('{"path":"/k8s/1q63pwfs/","title":"ğŸ“¦CalicoåŸç†åˆ†æ","lang":"zh-CN","frontmatter":{"title":"ğŸ“¦CalicoåŸç†åˆ†æ","createTime":"2025/08/12 22:03:59","permalink":"/k8s/1q63pwfs/","description":"kind create cluster --name calico-cluster --config - <<EOF kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: role: control-plane role: worker role: worker networking: disa...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ğŸ“¦CalicoåŸç†åˆ†æ\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-13T15:11:46.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://blog.jianzhihao.icu/k8s/1q63pwfs/"}],["meta",{"property":"og:site_name","content":"ZH Blog"}],["meta",{"property":"og:title","content":"ğŸ“¦CalicoåŸç†åˆ†æ"}],["meta",{"property":"og:description","content":"kind create cluster --name calico-cluster --config - <<EOF kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: role: control-plane role: worker role: worker networking: disa..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-13T15:11:46.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-13T15:11:46.000Z"}]]},"readingTime":{"minutes":6.18,"words":1853},"git":{"createdTime":1755092670000,"updatedTime":1755097906000,"contributors":[{"name":"zhihao","username":"zhihao","email":"mac@zhihaomac.local","commits":2,"avatar":"https://avatars.githubusercontent.com/zhihao?v=4","url":"https://github.com/zhihao"}],"changelog":[{"hash":"b14e6181535ae1948c566c3579bb41b2ebd924aa","time":1755097906000,"email":"mac@zhihaomac.local","author":"zhihao","message":"add calico"},{"hash":"6a272eac072f3a24fb0b185a226bdba357b43947","time":1755092670000,"email":"mac@zhihaomac.local","author":"zhihao","message":"add calico"}]},"autoDesc":true,"filePathRelative":"notes/k8s/2. ç½‘ç»œ/Calico/3.CalicoåŸç†åˆ†æ.md","headers":[]}');export{k as comp,g as data};
